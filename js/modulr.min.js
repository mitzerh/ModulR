/**
* modulr-js v0.7.1 | 2016-07-06
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function c(a){var b=a.split("."),c=window[b.shift()],d=!1;if("undefined"!=typeof c&&(d=!0,b.length>1))for(;b.length>0;)if(c=c[b.shift()],"undefined"==typeof c){d=!1;break}return d}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function e(a){var b=/[^A-Za-z0-9_\-\.]/g.test(a);return"string"!=typeof a||b?!1:!0}function f(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",g()+b}function g(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function h(a,b){return a=n(a),b=l(b),[a,b].join("/")}function i(a){var b=a,c=window.location.protocol;return 0!==a.indexOf("http")&&(b=c+(0!==a.indexOf("//")?"//":"")+a),b}function j(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function k(a,b,c,d){a.detachEvent&&!G?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function l(a){return a=n(m(a))}function m(a){return"/"===a.charAt(0)?a.slice(1):a}function n(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function o(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function p(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[r.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function q(a){throw a=[r.prefix,a].join(" "),new Error(a)}var r={};r.prefix="[Modulr]";var s={},t={},u={},v={},w={},x={},y={},z=!1,A=!1,B={},C=!1,D=[],E=!1,F=[];a(function(){for(C=!0;D.length>0;){var a=D.shift();a()}});var G="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,H=/^(complete|loaded)$/,I=function(l){function J(a){var b=a.getConfig();if(!E){E=!0;for(var c="data-modulr-module",d=document.querySelectorAll("["+c+"]"),e=0;e<d.length;e++){var f=d[e],g=d[e].getAttribute(c);spv=g.split(":"),2===spv.length&&(F[g]||(F[g]={context:spv[0],moduleId:spv[1],executed:!1,resource:{dom:[]}}),F[g].resource.dom.push(f))}}for(var h in F){var i=F[h];if(!i.executed){var j=i.context,k=i.moduleId,l=[];l.push(k),j===b.context&&(F[h].executed=!0,a.require(l))}}}function K(a){a=N(a);var b=null,c="module",d=T(a);return d?"module"===d.type?b=s[d.context].stack[d.id]:"instance"===d.type&&(b=s[d.context].instance,c="instance"):b=aa[a],"module"===c&&(b&&!b.executed&&q("module not yet executed: '"+a+"'"),b=b?"undefined"!=typeof b.factory?b.factory:b.exports:null),b}function L(a){l.baseDomain=i(l.baseDomain)||g(),l.baseUrl=l.baseUrl||f();var b=function(){for(;ca.length>0;){var a=ca.shift();a()}},c=function(){da=!0,b(),a()};V(function(){W(function(){c()})})}function M(){if(t[_])for(var a=s[_].instance;t[_].length>0;){var b=t[_].shift();a.define(b.ext.id,b.deps,b.factory)}}function N(a){if(l.paths)for(var b in l.paths)a=a.replace(b,l.paths[b]);return a=a.replace(/\/\//g,"/").replace(/^\//,"")}function O(a){if(B[a])for(;B[a].length>0;){var b=B[a].shift();b()}}function P(a){return aa[a]||!1}function Q(){return[n(l.baseDomain||g()),m(l.baseUrl||f())].join("/")}function R(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&s[d]){var f=s[d].instance;s[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else p(["Not initialized >> CONTEXT: ",d," | module: ",e].join("")),b(null)}function S(a){return s[a]?s[a].instance:void q("Error getting instance: "+a)}function T(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function U(){if(!l.shim)return!1;var a=[];for(var b in l.shim)a.push({id:b,info:l.shim[b]});for(var c=function(a){var b=a.id,c=a.info,d=(X(c.src),c.deps||[]);ea.define(b,d,function(){return Z(c.exports)})};a.length>0;)c(a.shift())}function V(a){if(l.masterFile)if(z)a();else{var b=X(l.masterFile);A&&A!==b?q("Instance '"+r.instance+"' Error: Master file already defined: "+A):(A=b,$(b,null,function(){a()}))}else a()}function W(a){if(l.packages){var b=[],c=function(a){for(var c in a)y[c]||(p("please add this instance to the master package file: "+c),y[c]=a[c]),b.push({uid:c,src:a[c]})};if(o(l.packages))for(var d=0;d<l.packages.length;d++){var e=l.packages[d];"string"==typeof e&&y[e]?b.push({uid:e,src:y[e]}):"object"!=typeof e||o(e)?q("cannot find package named: "+e):c(e)}else c(l.packages);var f=function(a){for(var b=x[a];b.length>0;){var c=b.shift();c()}delete x[a]},g=function(){if(0===b.length)a();else{var c=b.shift(),d=c.uid,e=X(c.src);s[d]?g():w[e]?(x[e]||(x[e]=[]),x[e].push(function(){g()})):(w[e]=d,$(e,d,function(){g(),x[e]&&f(e)},"instance"))}};g()}else a()}function X(a){var b=a;return 0!==a.indexOf("http")&&(b=0===a.indexOf("//")?i(a):l.baseDomain+("/"!==a.charAt(0)?"/":"")+a),b}function Y(a){return l.shim&&l.shim[a]?!0:!1}function Z(a){return window[a.split(".")[0]]}function $(a,b,c,d){var e=!1,f=document.createElement("script"),g=[_||"",a].join("||"),h=function(a){if(!e&&"load"===a.type||H.test((a.currentTarget||a.srcElement).readyState)){for(e=!0;v[g].length>0;){var b=v[g].shift();b()}delete v[g],j()}},i=function(){q("error loading script: "+a)},j=function(){k(f,h,"load","onreadystatechange"),k(f,i,"error")};if(b){var l="data-modulr-module";d&&(l="data-modulr-loaded-inst"),f.setAttribute(l,b)}return f.setAttribute("data-modulr-context",_),u[g]?(v[g].push(function(){c(b)}),!1):(u[g]=!0,v[g]=[function(){c(b)}],f.type="text/javascript",f.charset="utf-8",f.async=!0,!f.attachEvent||f.attachEvent.toString&&f.attachEvent.toString().indexOf("[native code")<0||G?(f.addEventListener("load",h,!1),f.addEventListener("error",i,!1)):f.attachEvent("onreadystatechange",h),f.src=a,void document.getElementsByTagName("head")[0].appendChild(f))}l=l||{},l.context=l.instance||l.context||"_",l.wait="boolean"==typeof l.wait?l.wait:!0;var _=l.context;if(e(_)||q("invalid context: '"+_+"'"),s[_])return p("attempt to instantiate the same context: "+_),!1;s[_]={instance:this,stack:{}};var aa=s[_].stack,ba=!1,ca=[],da=!1,ea=this;ea.version="0.7.1",ea.getConfig=function(){return l},ea.getInstance=function(a){return s[a]?s[a].instance:null},ea.getLoadedScripts=function(){var a={};for(var b in u){var c=b.split("||"),d=c[0],e=c[1]||"";d&&e&&(a[d]||(a[d]=[]),a[d].push(e))}return a},ea.define=function(a,b,c){d(a)||q("invalid id: '"+a+"'."),2!==arguments.length||o(b)||(c=b,b=[]),a=N(a);var e=T(a);if(e)if(s[e.context]){var f=s[e.context].instance;f.define(e.id,b,c)}else t[e.context]||(t[e.context]=[]),t[e.context].push({ext:e,deps:b,factory:c});else aa[a]||(b=b||[],aa[a]={executed:!1,exports:{},deps:b,factory:c})},ea.require=function(a,c){if("string"==typeof a)return K(a);if(o(a)){var d=function(){fa.get(null,a,function(a){b(c,a)})},e=function(){ba?da?d():ca.push(function(){d()}):(ba=!0,L(function(){d()}))};l.wait?C?e():D.push(e):e()}},ea.config=function(b){if(b.context||b.instance){var c=new I(b);return delete c.config,delete c.getInstance,C?J(c):a(function(){J(c)}),c}ba?q("cannot re-configure Modulr"):l=b},ea.execModule=function(a,b){var c=P(a);return"function"!=typeof b?!1:void(c?c.executed?b(fa.getModuleFactory(c)):fa.execModule(null,null,a,function(a){b(a)}):b(null))},ea.loadPackageList=function(a){if(o(a)||"object"!=typeof a)q("cannot load package list.");else{z=!0;for(var b in a)y[b]||(y[b]=a[b])}},ea.getPackageListInfo=function(){return{master:A,instances:y}},M(),U();var fa=function(){var a=function(){var a=this;a.get=function(b,c,d){var e,f=[];c?e=j(c):b&&aa[b]&&(e=j(aa[b].deps));var g=function(){if(0===e.length)d(f);else{var c=N(e.shift()),h=P(c),i=T(c);if(i)"module"===i.type?R(c,function(a){f.push("undefined"!=typeof a?a:null),g()}):"instance"===i.type&&(f.push(S(i.context)),g());else if("require"===c)f.push(ea.require),g();else if("define"===c)f.push(ea.define),g();else if("exports"===c)f.push(aa[b].exports),g();else if("module->resource"===c){var j=null,k=[l.context,b].join(":");F[k]&&F[k].executed&&(j=F[k].resource),f.push(j),g()}else if(h&&!Y(c))h.executed?(f.push(a.getModuleFactory(h)),g()):a.execModule(null,null,c,function(a){f.push(a),g()});else if(Y(c)){var m=l.shim[c];a.loadShim(c,m,function(a){f.push(a),g()})}else{var n=a.getModulePath(c);$(n,c,function(){a.execModule("load",n,c,function(a){f.push(a),g()})})}}};g()},a.loadShim=function(b,d,e){var f=X(d.src),g=P(b);c(d.exports)?(g.executed=!0,g.factory=Z(d.exports),e(g.factory)):B[f]?B[f].push(function(){a.execModule("shim",null,b,function(a){e(a)})}):(B[f]=[function(){a.execModule("shim",null,b,function(a){e(a)})}],$(f,b,function(){c(d.exports)?O(f):q("shim export not found for: '"+b+"'")}))},a.execModule=function(c,d,e,f){var g=P(e);g?g.executed?f(a.getModuleFactory(g)):(a._execQueue||(a._execQueue={}),a._execQueue[e]||(a._execQueue[e]=[]),g.executing?a._execQueue[e].push(f):(g.executing=!0,a._execQueue[e].push(f),a.get(e,g.deps,function(c){g.factory=b(g.factory,c),g.executed=!0,g.executing=!1,a.runCallbackQueue(e,a.getModuleFactory(g))}))):(p("loading external source: "+d),f({id:e,src:d,type:"external-script"}))},a.runCallbackQueue=function(b,c){for(var d=a._execQueue[b]||[];d.length>0;){var e=d.shift();e(c)}},a.getModuleFactory=function(a){return null!==a.factory?a.factory:a.exports},a.getModulePath=function(a){var b=Q(),c=h(b,a)+".js";return c}};return new a}()};return new I}(function(){var a=function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),ready=h?function(a){self!=top?n?a():d.push(a):function(){try{g.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){n?a():d.push(a)}}();return a}()));