/**
* modulr-js v0.5.0 | 2015-02-18
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function c(a){var b=a.split("."),c=window[b.shift()],d=!1;if("undefined"!=typeof c&&(d=!0,b.length>1))for(;b.length>0;)if(c=c[b.shift()],"undefined"==typeof c){d=!1;break}return d}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function e(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",f()+b}function f(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function g(a,b){return a=l(a),b=j(b),[a,b].join("/")}function h(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function i(a,b,c,d){a.detachEvent&&!z?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function j(a){return a=l(k(a))}function k(a){return"/"===a.charAt(0)?a.slice(1):a}function l(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function m(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function n(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[p.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function o(a){throw a=[p.prefix,a].join(" "),new Error(a)}var p={};p.prefix="[Modulr]";var q={},r={},s={},t={},u={},v={},w={},x=!1,y=[];a(function(){for(x=!0;y.length>0;){var a=y.shift();a()}});var z="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,A=/^(complete|loaded)$/,B=function(a){function j(a){a=D(a);var b=null,c="module",d=I(a);return d?"module"===d.type?b=q[d.context].stack[d.id]:"instance"===d.type&&(b=q[d.context].instance,c="instance"):b=Q[a],"module"===c&&(b&&!b.executed&&o("module not yet executed: '"+a+"'"),b=b?"undefined"!=typeof b.factory?b.factory:b.exports:null),b}function p(b){a.baseDomain=a.baseDomain||f(),a.baseUrl=a.baseUrl||e();var c=function(){S=!0,b()};K(function(){c()})}function C(){if(r[P])for(var a=q[P].instance;r[P].length>0;){var b=r[P].shift();a.define(b.ext.id,b.deps,b.factory)}}function D(b){if(a.paths)for(var c in a.paths)b=b.replace(c,a.paths[c]);return b=b.replace(/\/\//g,"/")}function E(a){return Q[a]||!1}function F(){return[l(a.baseDomain||f()),k(a.baseUrl||e())].join("/")}function G(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&q[d]){var f=q[d].instance;q[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else n(["Not initialized >> CONTEXT: ",d," | module: ",e].join("")),b(null)}function H(a){return q[a]?q[a].instance:void o("Error getting instance: "+a)}function I(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function J(){if(a.shim){var b=[];for(var d in a.shim)b.push({id:d,info:a.shim[d]});var e=function(){if(b.length>0){var a=b.shift(),d=a.id,g=a.info,h=L(g.src),i=g.deps||[],j=function(){T.define(d,i,function(){return N(g.exports)}),e()};c(g.exports)?j():w[g.exports]?w[g.exports].push(function(){j()}):(w[g.exports]=[],O(h,d,function(){c(g.exports)?(j(),f(g.exports)):o("shim export not found for: '"+d+"'")}))}},f=function(a){for(var b=w[a]||[];b.length>0;){var c=b.shift();c()}w[a]&&delete w[a]};e()}}function K(b){if(a.packages){var c=[];for(var d in a.packages)c.push({uid:d,src:a.packages[d]});var e=function(a){for(var b=v[a];b.length>0;){var c=b.shift();c()}delete v[a]},f=function(){if(0===c.length)b();else{var a=c.shift(),d=a.uid,g=a.src;q[d]?f():u[g]?(v[g]||(v[g]=[]),v[g].push(function(){f()})):(u[g]=d,O(g,d,function(){f(),v[g]&&e(g)},"instance"))}};f()}else b()}function L(b){var c=b;return c=0===b.indexOf("//")||0===b.indexOf("http")?b:a.baseDomain+("/"!==b.charAt(0)?"/":"")+b}function M(b){return a.shim[b]?!0:!1}function N(a){return window[a.split(".")[0]]}function O(a,b,c,d){var e=!1,f=document.createElement("script"),g=[P||"",a].join("||"),h=function(a){if(!e&&"load"===a.type||A.test((a.currentTarget||a.srcElement).readyState)){for(e=!0;t[g].length>0;){var b=t[g].shift();b()}delete t[g],k()}},j=function(){o("error loading script: "+a)},k=function(){i(f,h,"load","onreadystatechange"),i(f,j,"error")};if(b){var l="data-modulr-module";d&&(l="data-modulr-loaded-inst"),f.setAttribute(l,b)}return f.setAttribute("data-modulr-context",P),s[g]?(t[g].push(function(){c(b)}),!1):(s[g]=!0,t[g]=[function(){c(b)}],f.type="text/javascript",f.charset="utf-8",f.async=!0,!f.attachEvent||f.attachEvent.toString&&f.attachEvent.toString().indexOf("[native code")<0||z?(f.addEventListener("load",h,!1),f.addEventListener("error",j,!1)):f.attachEvent("onreadystatechange",h),f.src=a,void document.getElementsByTagName("head")[0].appendChild(f))}a=a||{},a.context=a.instance||a.context||"_",a.wait="boolean"==typeof a.wait?a.wait:!0;var P=a.context;if(q[P])return n("attempt to instantiate the same context: "+P),!1;q[P]={instance:this,stack:{}};var Q=q[P].stack,R=!1,S=!1,T=this;T.version="0.5.0",T.getConfig=function(){return a},T.getInstance=function(a){return q[a]?q[a].instance:null},T.getLoadedScripts=function(){var a={};for(var b in s){var c=b.split("||"),d=c[0],e=c[1]||"";d&&e&&(a[d]||(a[d]=[]),a[d].push(e))}return a},T.define=function(a,b,c){d(a)||o("invalid id: '"+a+"'."),2!==arguments.length||m(b)||(c=b,b=[]),a=D(a);var e=I(a);if(e)if(q[e.context]){var f=q[e.context].instance;f.define(e.id,b,c)}else r[e.context]||(r[e.context]=[]),r[e.context].push({ext:e,deps:b,factory:c});else Q[a]||(b=b||[],Q[a]={executed:!1,exports:{},deps:b,factory:c})},T.require=function(c,d){if("string"==typeof c)return j(c);if(m(c)){var e=function(){U.get(null,c,function(a){b(d,a)})},f=function(){R?e():(R=!0,p(function(){e()}))};a.wait?x?f():y.push(f):f()}},T.config=function(b){if(b.context||b.instance){var c=new B(b);return delete c.config,delete c.ready,delete c.getInstance,c}R?o("cannot re-configure Modulr"):a=b},T.execModule=function(a,b){var c=E(a);return"function"!=typeof b?!1:void(c?c.executed?b(U.getModuleFactory(c)):U.execModule(null,null,a,function(a){b(a)}):b(null))},C(),J();var U=function(){var d=function(){var d=this;d.get=function(b,e,f){var g,i=[];e?g=h(e):b&&Q[b]&&(g=h(Q[b].deps));var j=function(){if(0===g.length)f(i);else{var e=D(g.shift()),h=E(e),k=I(e);if(k)"module"===k.type?G(e,function(a){i.push("undefined"!=typeof a?a:null),j()}):"instance"===k.type&&(i.push(H(k.context)),j());else if("require"===e)i.push(T.require),j();else if("define"===e)i.push(T.define),j();else if("exports"===e)i.push(Q[b].exports),j();else if(h)h.executed?(i.push(d.getModuleFactory(h)),j()):d.execModule(null,null,e,function(a){i.push(a),j()});else if(M(e)){var l=a.shim[e];c(l.exports)?i.push(N(l.exports)):w[l.exports].push(function(){i.push(N(l.exports)),j()})}else{var m=d.getModulePath(e);O(m,e,function(){d.execModule("load",m,e,function(a){i.push(a),j()})})}}};j()},d.execModule=function(a,c,e,f){var g=E(e);g?g.executed?f(d.getModuleFactory(g)):(d._execQueue||(d._execQueue={}),d._execQueue[e]||(d._execQueue[e]=[]),g.executing?d._execQueue[e].push(f):(g.executing=!0,d._execQueue[e].push(f),d.get(e,g.deps,function(a){g.factory=b(g.factory,a),g.executed=!0,g.executing=!1,d.runCallbackQueue(e,d.getModuleFactory(g))}))):(n("loading external source: "+c),f({id:e,src:c,type:"external-script"}))},d.runCallbackQueue=function(a,b){for(var c=d._execQueue[a]||[];c.length>0;){var e=c.shift();e(b)}},d.getModuleFactory=function(a){return null!==a.factory?a.factory:a.exports},d.getModulePath=function(a){var b=F(),c=g(b,a)+".js";return c}};return new d}()};return new B}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}()));