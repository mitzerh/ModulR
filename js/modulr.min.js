/**
* modulr-js v0.6.3 | 2016-05-06
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function c(a){var b=a.split("."),c=window[b.shift()],d=!1;if("undefined"!=typeof c&&(d=!0,b.length>1))for(;b.length>0;)if(c=c[b.shift()],"undefined"==typeof c){d=!1;break}return d}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function e(a){var b=/[^A-Za-z0-9_\-\.]/g.test(a);return"string"!=typeof a||b?!1:!0}function f(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",g()+b}function g(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function h(a,b){return a=n(a),b=l(b),[a,b].join("/")}function i(a){var b=a,c=window.location.protocol;return 0!==a.indexOf("http")&&(b=c+(0!==a.indexOf("//")?"//":"")+a),b}function j(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function k(a,b,c,d){a.detachEvent&&!F?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function l(a){return a=n(m(a))}function m(a){return"/"===a.charAt(0)?a.slice(1):a}function n(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function o(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function p(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[r.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function q(a){throw a=[r.prefix,a].join(" "),new Error(a)}var r={};r.prefix="[Modulr]";var s={},t={},u={},v={},w={},x={},y={},z=!1,A=!1,B={},C=!1,D=[],E=function(){for(C=!0;D.length>0;){var a=D.shift();a()}};a(function(){C||E()});var F="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,G=/^(complete|loaded)$/,H=function(a){function l(a){a=K(a);var b=null,c="module",d=Q(a);return d?"module"===d.type?b=s[d.context].stack[d.id]:"instance"===d.type&&(b=s[d.context].instance,c="instance"):b=Z[a],"module"===c&&(b&&!b.executed&&q("module not yet executed: '"+a+"'"),b=b?"undefined"!=typeof b.factory?b.factory:b.exports:null),b}function I(b){a.baseDomain=i(a.baseDomain)||g(),a.baseUrl=a.baseUrl||f();var c=function(){_=!0,b()};S(function(){T(function(){c()})})}function J(){if(t[Y])for(var a=s[Y].instance;t[Y].length>0;){var b=t[Y].shift();a.define(b.ext.id,b.deps,b.factory)}}function K(b){if(a.paths)for(var c in a.paths)b=b.replace(c,a.paths[c]);return b=b.replace(/\/\//g,"/").replace(/^\//,"")}function L(a){if(B[a])for(;B[a].length>0;){var b=B[a].shift();b()}}function M(a){return Z[a]||!1}function N(){return[n(a.baseDomain||g()),m(a.baseUrl||f())].join("/")}function O(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&s[d]){var f=s[d].instance;s[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else p(["Not initialized >> CONTEXT: ",d," | module: ",e].join("")),b(null)}function P(a){return s[a]?s[a].instance:void q("Error getting instance: "+a)}function Q(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function R(){if(!a.shim)return!1;var b=[];for(var c in a.shim)b.push({id:c,info:a.shim[c]});for(var d=function(a){var b=a.id,c=a.info,d=(U(c.src),c.deps||[]);ab.define(b,d,function(){return W(c.exports)})};b.length>0;)d(b.shift())}function S(b){if(a.masterFile)if(z)b();else{var c=U(a.masterFile);A&&A!==c?q("Instance '"+r.instance+"' Error: Master file already defined: "+A):(A=c,X(c,null,function(){b()}))}else b()}function T(b){if(a.packages){var c=[],d=function(a){for(var b in a)y[b]||(p("please add this instance to the master package file: "+b),y[b]=a[b]),c.push({uid:b,src:a[b]})};if(o(a.packages))for(var e=0;e<a.packages.length;e++){var f=a.packages[e];"string"==typeof f&&y[f]?c.push({uid:f,src:y[f]}):"object"!=typeof f||o(f)?q("cannot find package named: "+id):d(f)}else d(a.packages);var g=function(a){for(var b=x[a];b.length>0;){var c=b.shift();c()}delete x[a]},h=function(){if(0===c.length)b();else{var a=c.shift(),d=a.uid,e=U(a.src);s[d]?h():w[e]?(x[e]||(x[e]=[]),x[e].push(function(){h()})):(w[e]=d,X(e,d,function(){h(),x[e]&&g(e)},"instance"))}};h()}else b()}function U(b){var c=b;return 0!==b.indexOf("http")&&(c=0===b.indexOf("//")?i(b):a.baseDomain+("/"!==b.charAt(0)?"/":"")+b),c}function V(b){return a.shim&&a.shim[b]?!0:!1}function W(a){return window[a.split(".")[0]]}function X(a,b,c,d){var e=!1,f=document.createElement("script"),g=[Y||"",a].join("||"),h=function(a){if(!e&&"load"===a.type||G.test((a.currentTarget||a.srcElement).readyState)){for(e=!0;v[g].length>0;){var b=v[g].shift();b()}delete v[g],j()}},i=function(){q("error loading script: "+a)},j=function(){k(f,h,"load","onreadystatechange"),k(f,i,"error")};if(b){var l="data-modulr-module";d&&(l="data-modulr-loaded-inst"),f.setAttribute(l,b)}return f.setAttribute("data-modulr-context",Y),u[g]?(v[g].push(function(){c(b)}),!1):(u[g]=!0,v[g]=[function(){c(b)}],f.type="text/javascript",f.charset="utf-8",f.async=!0,!f.attachEvent||f.attachEvent.toString&&f.attachEvent.toString().indexOf("[native code")<0||F?(f.addEventListener("load",h,!1),f.addEventListener("error",i,!1)):f.attachEvent("onreadystatechange",h),f.src=a,void document.getElementsByTagName("head")[0].appendChild(f))}a=a||{},a.context=a.instance||a.context||"_",a.wait="boolean"==typeof a.wait?a.wait:!0;var Y=a.context;if(e(Y)||q("invalid context: '"+Y+"'"),s[Y])return p("attempt to instantiate the same context: "+Y),!1;s[Y]={instance:this,stack:{}};var Z=s[Y].stack,$=!1,_=!1,ab=this;ab.version="0.6.3",ab.getConfig=function(){return a},ab.getInstance=function(a){return s[a]?s[a].instance:null},ab.getLoadedScripts=function(){var a={};for(var b in u){var c=b.split("||"),d=c[0],e=c[1]||"";d&&e&&(a[d]||(a[d]=[]),a[d].push(e))}return a},ab.define=function(a,b,c){d(a)||q("invalid id: '"+a+"'."),2!==arguments.length||o(b)||(c=b,b=[]),a=K(a);var e=Q(a);if(e)if(s[e.context]){var f=s[e.context].instance;f.define(e.id,b,c)}else t[e.context]||(t[e.context]=[]),t[e.context].push({ext:e,deps:b,factory:c});else Z[a]||(b=b||[],Z[a]={executed:!1,exports:{},deps:b,factory:c})},ab.require=function(c,d){if("string"==typeof c)return l(c);if(o(c)){var e=function(){bb.get(null,c,function(a){b(d,a)})},f=function(){$?e():($=!0,I(function(){e()}))};a.wait?C?f():D.push(f):f()}},ab.config=function(b){if(b.context||b.instance){var c=new H(b);return delete c.config,delete c.getInstance,c}$?q("cannot re-configure Modulr"):a=b},ab.execModule=function(a,b){var c=M(a);return"function"!=typeof b?!1:void(c?c.executed?b(bb.getModuleFactory(c)):bb.execModule(null,null,a,function(a){b(a)}):b(null))},ab.loadPackageList=function(a){if(o(a)||"object"!=typeof a)q("cannot load package list.");else{z=!0;for(var b in a)y[b]||(y[b]=a[b])}},ab.getPackageListInfo=function(){return{master:A,instances:y}},ab.setReady=function(){E()},J(),R();var bb=function(){var d=function(){var d=this;d.get=function(b,c,e){var f,g=[];c?f=j(c):b&&Z[b]&&(f=j(Z[b].deps));var h=function(){if(0===f.length)e(g);else{var c=K(f.shift()),i=M(c),j=Q(c);if(j)"module"===j.type?O(c,function(a){g.push("undefined"!=typeof a?a:null),h()}):"instance"===j.type&&(g.push(P(j.context)),h());else if("require"===c)g.push(ab.require),h();else if("define"===c)g.push(ab.define),h();else if("exports"===c)g.push(Z[b].exports),h();else if(i&&!V(c))i.executed?(g.push(d.getModuleFactory(i)),h()):d.execModule(null,null,c,function(a){g.push(a),h()});else if(V(c)){var k=a.shim[c];d.loadShim(c,k,function(a){g.push(a),h()})}else{var l=d.getModulePath(c);X(l,c,function(){d.execModule("load",l,c,function(a){g.push(a),h()})})}}};h()},d.loadShim=function(a,b,e){var f=U(b.src),g=M(a);c(b.exports)?(g.executed=!0,g.factory=W(b.exports),e(g.factory)):B[f]?B[f].push(function(){d.execModule("shim",null,a,function(a){e(a)})}):(B[f]=[function(){d.execModule("shim",null,a,function(a){e(a)})}],X(f,a,function(){c(b.exports)?L(f):q("shim export not found for: '"+a+"'")}))},d.execModule=function(a,c,e,f){var g=M(e);g?g.executed?f(d.getModuleFactory(g)):(d._execQueue||(d._execQueue={}),d._execQueue[e]||(d._execQueue[e]=[]),g.executing?d._execQueue[e].push(f):(g.executing=!0,d._execQueue[e].push(f),d.get(e,g.deps,function(a){g.factory=b(g.factory,a),g.executed=!0,g.executing=!1,d.runCallbackQueue(e,d.getModuleFactory(g))}))):(p("loading external source: "+c),f({id:e,src:c,type:"external-script"}))},d.runCallbackQueue=function(a,b){for(var c=d._execQueue[a]||[];c.length>0;){var e=c.shift();e(b)}},d.getModuleFactory=function(a){return null!==a.factory?a.factory:a.exports},d.getModulePath=function(a){var b=N(),c=h(b,a)+".js";return c}};return new d}()};return new H}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}()));